import{K as I,j as e,N as u,V as b,a3 as B,H as h,F as g,T as l,L as y,r as k,M as E,Q as N,C as P,J as R}from"./createReactComponent-m2GCamtz.js";import{c as V,S as A,U as Q,T as X,M as Z,b as q,a as ee,d as te}from"./ISPUChart-DIqr_YYN.js";import{a4 as ne,y as ae,a1 as se,j,i as G,I as ie,o as re,a5 as le,a6 as oe,r as K,Q as _,u as ce,k as de,p as he,a7 as xe}from"./app-BlQRCkbL.js";import{g as pe,b as me,d as ue}from"./common.utils-BXgvsAbj.js";import{I as ge,C as je,S as fe}from"./informationCard-CoG_vFyO.js";import{F as be,e as ye,i as ve,l as Se,r as ke}from"./EventCalendar-CZfc3ekb.js";import{C as v,b as S,a as C}from"./chunk-YQO7BFFX-BRJMp5Lc.js";import{F as $}from"./chunk-KRPLQIP4-1nj_ibqy.js";import{G as J}from"./chunk-JARCRF6W-CeVJ6vdb.js";import{M as Ce,a as Me}from"./index-Dt6lv0Jl.js";import{R as O}from"./ReportCard-70O10eF9.js";import{M as ze}from"./MyLineChart-DYDC_vRb.js";import{S as we}from"./chunk-VTV6N5LE-DsG3bonO.js";import{T,a as W,b as F,c as L,d as D}from"./chunk-IAXSQ4X2-BWbuaJl8.js";import{T as w}from"./dateFormating-CjiM6gKV.js";import"./index-CH91JLn2.js";import"./index.tags-vBYpzwqj.js";import"./useApiResponseToast-CR3ZylCY.js";import"./IconMapPin-CWtp4fMu.js";import"./index-B4MCLp8v.js";import"./IconTrash-CmToVWU0.js";import"./IconEdit-DHHo-74T.js";import"./chunk-4FCEGNGT-DqvOsicM.js";import"./IconCalendar-DeQmHFDN.js";import"./IconPlus-Bm6anzmS.js";import"./TagWithIcon-BmQxVHBm.js";import"./chunk-V7PAE35Z-BuEgg6Tf.js";/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ie=I("outline","air-balloon","IconAirBalloon",[["path",{d:"M10 19m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v1a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M12 16c3.314 0 6 -4.686 6 -8a6 6 0 1 0 -12 0c0 3.314 2.686 8 6 8z",key:"svg-1"}],["path",{d:"M12 9m-2 0a2 7 0 1 0 4 0a2 7 0 1 0 -4 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ae=I("outline","air-conditioning","IconAirConditioning",[["path",{d:"M8 16a3 3 0 0 1 -3 3",key:"svg-0"}],["path",{d:"M16 16a3 3 0 0 0 3 3",key:"svg-1"}],["path",{d:"M12 16v4",key:"svg-2"}],["path",{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-3"}],["path",{d:"M7 13v-3a1 1 0 0 1 1 -1h8a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pe=I("outline","report","IconReport",[["path",{d:"M8 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h5.697",key:"svg-0"}],["path",{d:"M18 14v4h4",key:"svg-1"}],["path",{d:"M18 11v-4a2 2 0 0 0 -2 -2h-2",key:"svg-2"}],["path",{d:"M8 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-3"}],["path",{d:"M18 18m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-4"}],["path",{d:"M8 11h4",key:"svg-5"}],["path",{d:"M8 15h3",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Re=I("outline","star","IconStar",[["path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z",key:"svg-0"}]]);function Te({data:t,periode:n,dateRange:a}){const{eventLogs:x,count:{countStatus:s,countType:i,all:o},eventIdLongestEvent:d}=t,c=i.find(r=>r.type=="production");return e.jsx(v,{size:"sm",shadow:"xs",children:e.jsx(S,{gap:"4",as:$,children:o?e.jsxs(e.Fragment,{children:[e.jsx(u,{flex:"1 1 0",minH:"350px",overflow:"hidden",children:e.jsx(We,{periode:n,data:t,dateRange:a})}),e.jsxs(b,{flex:"1 1 0",align:"stretch",children:[e.jsxs(B,{variant:"top-accent",bg:"blue.100",p:"3",roundedTop:"sm",roundedBottom:"md",fontSize:"md",justifyContent:"space-between",children:[e.jsxs(h,{align:"end",children:[e.jsx(g,{p:"2",rounded:"md",bg:"blue.200",boxSize:"50px",fontSize:"3xl",fontWeight:"700",children:o}),e.jsxs(u,{children:[e.jsx(l,{children:"Total"}),e.jsx(l,{fontWeight:"600",children:"Aktivitas di bulan ini"})]})]}),e.jsx(b,{align:"start",children:s.map((r,p)=>{const{icon:m,name:f}=ne[r.status];return e.jsxs(h,{children:[e.jsx(g,{bg:"blue.200",p:"1",rounded:"md",children:e.jsx(y,{as:m,boxSize:"20px"})}),e.jsxs(l,{children:[r.count||"Tidak ada"," aktivitas"," ",f.toLowerCase()]})]},p)})})]}),e.jsx(l,{fontWeight:"600",children:"Kegiatan Produksi"}),e.jsxs(h,{px:"3",justify:"space-evenly",children:[e.jsx(h,{children:e.jsxs(g,{p:"3",rounded:"md",bg:"green.100",h:"50px",gap:"2",children:[e.jsx(g,{bg:"green.200",p:"2",rounded:"md",children:e.jsx(y,{as:ae,boxSize:"20px"})}),e.jsx(l,{fontSize:"3xl",fontWeight:"700",children:(c==null?void 0:c.count)||0}),e.jsx(l,{fontWeight:"600",children:"Aktivitas produksi"})]})}),e.jsx(h,{children:e.jsxs(g,{p:"3",rounded:"md",bg:"green.100",h:"50px",gap:"2",children:[e.jsx(g,{bg:"green.200",p:"2",rounded:"md",children:e.jsx(y,{as:ge,boxSize:"20px"})}),e.jsx(l,{fontSize:"3xl",fontWeight:"700",children:(c==null?void 0:c.days)||0}),e.jsx(l,{fontWeight:"600",children:"Hari produksi"})]})})]}),e.jsx(l,{fontWeight:"600",children:"Jumlah Aktivitas berdasarkan jenis aktivitas"}),e.jsx(J,{justifyContent:"center",templateColumns:"repeat(auto-fit, minmax(160px, 120px))",gap:"2",children:i.filter(r=>r.count&&r.type!=="production").map(r=>{const{color:p,icon:m,name:f}=se[r.type];return e.jsxs(u,{p:"2",bg:p+".100",rounded:"md",children:[e.jsxs(h,{justify:"center",spacing:"1",children:[e.jsx(l,{fontSize:"2xl",fontWeight:"600",children:r.count}),e.jsx(y,{as:m,color:p+".500",boxSize:"23px"})]}),e.jsxs(l,{textAlign:"center",children:[r.days," Hari ",f.toLowerCase()]})]},r.type)})}),!!d&&e.jsxs(e.Fragment,{children:[e.jsx(l,{fontWeight:"600",children:"Aktivitas terlama"}),e.jsx(je,{event:x.find(r=>r.eventLogId==d)})]})]})]}):e.jsx(g,{w:"full",py:"5",children:e.jsx(l,{fontWeight:"600",color:"gray.500",fontSize:"xl",children:"Tidak Ada Catatan Aktivitas"})})})})}function We({dateRange:t,periode:n,data:a}){const[x,s]=t,i=k.useRef(),o=j(s).startOf(n).isSame(j().startOf(n));return e.jsxs(u,{h:"full",children:[e.jsx(be,{firstDay:0,ref:i,events:ye(a.eventLogs),fixedWeekCount:!1,initialDate:s,plugins:[ve],initialView:"dayGridYear",monthStartFormat:{month:"short",day:"numeric"},validRange:{start:t[0],end:o?j().toDate():t[1]},locale:Se,headerToolbar:!1,eventContent:d=>ke(d,!0)}),e.jsx("style",{children:`.fc-day.fc-day-disabled {
					border : 0px;
					padding : 0px
					max-height : 0px !important;
				}
				.fc-day.fc-day-disabled *{
					display : none;
					max-height : 0px !important;
					border : 0px
				}
				`})]})}function Fe({data:t,company:n}){const[a,x]=k.useState(0),{average:s,countPerStar:i,count:o,reports:d}=t,c=O[Math.round(s)-1];return e.jsx(v,{size:"sm",shadow:"xs",children:e.jsx(S,{children:o?e.jsxs($,{gap:"4",children:[e.jsxs(b,{flex:"1 1 0",align:"stretch",children:[e.jsxs(B,{colorScheme:c.color.slice(0,-4),fontSize:"md",p:"3",variant:"top-accent",as:b,children:[e.jsxs(h,{fontWeight:"600",fontSize:"md",alignSelf:"start",children:[e.jsx(y,{as:Re,boxSize:"16px"}),e.jsx(l,{children:"Rating Aduan Rata Rata"})]}),e.jsxs(h,{pt:"2",alignSelf:"center",children:[e.jsx(y,{as:c.icon,color:c.color,boxSize:"50px"}),e.jsxs(h,{align:"baseline",spacing:"1",children:[e.jsx(l,{fontWeight:"700",fontSize:"3xl",children:s.toFixed(2)}),e.jsx(l,{children:"/5.00"})]})]}),e.jsxs(l,{children:["Total Aduan : ",o," Aduan"]})]}),e.jsx(l,{fontWeight:"600",children:"Jumlah aduan berdasarkan bintang"}),e.jsx(J,{w:"full",gap:"2",templateColumns:"repeat(auto-fit, minmax(100px, 1fr))",children:i.map((r,p)=>({ratingIcon:O[4-p],rating:5-p,count:r})).map(({ratingIcon:r,count:p,rating:m})=>e.jsxs(b,{p:"2",spacing:"1",rounded:"md",bg:r.color.slice(0,-4)+".100",cursor:"pointer",_active:{bg:r.color.slice(0,-4)+".200"},onClick:()=>x(m),children:[e.jsxs(h,{children:[e.jsx(l,{fontSize:"xl",fontWeight:"600",w:"1ex",children:p}),e.jsx(y,{as:r.icon,boxSize:"30px",color:r.color})]}),e.jsxs(l,{children:["Bintang ",m]})]},m))}),e.jsxs(h,{justify:"space-between",children:[e.jsx(l,{fontWeight:"600",children:"Filter aduan di peta"}),e.jsx(G,{value:a.toString(),onChange:r=>x(parseInt(r.target.value)),w:"140px",cursor:"pointer",children:Array.from({length:6},(r,p)=>e.jsx("option",{value:p,children:p?"Rating "+p:"Semua Rating"},p))})]})]}),e.jsx(Ce,{flex:"2 1 0",marker:Me,scrollWheelZoom:!1,companiesData:[n],data:d.filter(r=>a?r.rating==a:!0)})]}):e.jsx(g,{w:"full",py:"5",children:e.jsx(l,{fontWeight:"600",color:"gray.500",fontSize:"xl",children:"Tidak Ada Aduan"})})})})}function Le({state:t,type:n,format:a}){const[x,s]=t,i=o=>s(j(x).add(o,n).format(a));return e.jsxs(h,{spacing:"1",justify:"space-between",children:[e.jsx(E,{bg:"white",variant:"outline",icon:e.jsx(ie,{}),"aria-label":"previous",onClick:()=>i(-1)}),e.jsx(N,{fontWeight:"600",variant:"outline",onFocus:o=>o.target.showPicker(),type:n,bg:"white",w:"fit-content",textAlign:"center",max:j().format(a),onChange:o=>s(o.target.value),value:x}),e.jsx(E,{variant:"outline",icon:e.jsx(re,{}),"aria-label":"next",bg:"white",isDisabled:j(x).isSameOrAfter(j().startOf(n)),onClick:()=>i(1)}),e.jsx(P,{variant:"outline",bg:"white",onClick:()=>s(j().format(a)),children:n=="month"?"Bulan Ini":"Minggu Ini"})]})}function De(t){const{state:n,getInputProps:a,getRadioProps:x}=oe(t),s=k.useRef(),i=a(),o=x();return e.jsxs(u,{as:"label",children:[e.jsx("input",{...i}),e.jsx(u,{...o,ref:s,display:"none"}),e.jsx(P,{onClick:()=>{var d;return(d=s.current)==null?void 0:d.click()},border:"1px solid",borderColor:"teal.500",size:"sm",variant:n.isChecked?"solid":"outline",colorScheme:"teal",children:t.children})]})}function Ye({options:t,...n}){const{getRootProps:a,getRadioProps:x}=le({...n}),s=a();return e.jsx(h,{...s,children:t.map(i=>{const o=x({value:i});return e.jsx(De,{...o,children:i},i)})})}function U({title:t,tren:n,events:a,paramList:x}){const[s,i]=k.useState(["indoor","outdoor"]),[o,d]=k.useState(!1);return e.jsxs(v,{size:"sm",shadow:"xs",children:[e.jsxs(C,{as:h,children:[e.jsx(R,{size:"md",fontSize:"md",fontWeight:"600",children:t}),e.jsx(K,{}),!!n.length&&e.jsxs(h,{as:"label",cursor:"pointer",children:[e.jsx(l,{children:"Tampilkan Log Kegiatan"}),e.jsx(we,{isChecked:o,onChange:()=>d(c=>!c)})]})]}),n.length?e.jsx(e.Fragment,{children:e.jsx(S,{pt:"0",children:e.jsxs(T,{isLazy:!0,variant:"unstyled",colorScheme:"teal",size:"sm",children:[e.jsxs(W,{gap:"2",children:[x.map((c,r)=>e.jsx(F,{rounded:"md",as:P,size:"sm",colorScheme:"teal",border:"1px solid",borderColor:"teal.500",_selected:{bg:"teal.500",color:"white",_hover:{bg:"teal.600"}},variant:"outline",children:c.name},r)),e.jsx(K,{}),e.jsx(Ye,{options:["indoor","outdoor","keduanya"],value:s.length==2?"keduanya":s[0],onChange:c=>{i(([r])=>c=="keduanya"?[r,r=="indoor"?"outdoor":"indoor"]:[c.toLowerCase()])}})]}),e.jsx(_,{mt:"4",borderColor:"gray.400"}),e.jsx(L,{children:x.map((c,r)=>e.jsx(D,{h:"440px",children:c.type=="bar"?e.jsx(V,{data:n||[],withBrush:!0,events:o?a:void 0,tickFormat:"DD MMM YYYY",offsetDomain:"day",dataKeyTypeAndFunc:s.map(p=>c.dataKeyTypeAndFunc(p))}):e.jsx(ze,{data:n||[],withBrush:!0,events:o?a:void 0,tickFormat:"DD MMM YYYY",dataKeyTypeAndFunc:s.map(p=>c.dataKeyTypeAndFunc(p))})},r))})]})})}):e.jsx(g,{w:"full",pt:"5",pb:"8",children:e.jsx(l,{fontWeight:"600",color:"gray.500",fontSize:"xl",children:"Tidak Ada Data"})})]})}const Ee=[{type:"bar",name:"ISPU",dataKeyTypeAndFunc:t=>({func:n=>{var a;return(a=n[t])==null?void 0:a.ispu[0]},envType:t})},{type:"bar",name:"ISPU PM2.5",dataKeyTypeAndFunc:t=>({func:n=>{var a;return(a=n[t])==null?void 0:a.ispu.find(x=>x.pollutant=="PM25")},envType:t})},{type:"bar",name:"ISPU PM10",dataKeyTypeAndFunc:t=>({func:n=>{var a;return(a=n[t])==null?void 0:a.ispu.find(x=>x.pollutant=="PM100")},envType:t})},{type:"line",name:"PM2.5",dataKeyTypeAndFunc:t=>({func:n=>{var a;return(a=n[t])==null?void 0:a.pm25},envType:t})},{type:"line",name:"PM10",dataKeyTypeAndFunc:t=>({func:n=>{var a;return(a=n[t])==null?void 0:a.pm100},envType:t})}],Ke=[{type:"line",name:"CH4",dataKeyTypeAndFunc:t=>({func:n=>{var a;return(a=n[t])==null?void 0:a.ch4.value},envType:t})},{type:"line",name:"CO2",dataKeyTypeAndFunc:t=>({func:n=>{var a;return(a=n[t])==null?void 0:a.co2.value},envType:t})}],H={month:{inputFormat:"YYYY-MM",format:"MMMM YYYY",label:"bulan"},week:{inputFormat:"YYYY-[W]ww",format:"[ke-]ww YYYY",label:"minggu"}};function ut(){var m,f;const[t,n]=k.useState("month"),{inputFormat:a,format:x,label:s}=H[t],[i,o]=k.useState(j().format(a)),{user:d}=ce(),c=(f=(m=d.view)==null?void 0:m.company)==null?void 0:f.companyId,{data:r}=de(c?`/companies/${c}/summary/${t}ly?periode=${i}`:null,he);if(!c)return e.jsx(fe,{});const p=M=>{const Y=M.target.value;n(Y),o(j().format(H[Y].inputFormat))};return e.jsxs(u,{children:[e.jsxs(h,{align:"start",justify:"space-between",children:[e.jsxs(u,{children:[e.jsxs(R,{size:"lg",children:["Laporan ",s," ",j(i).format(x)]}),e.jsx(l,{children:r?`${j(r.meta.startDate).format("DD MMMM YYYY")} s/d ${j(r.meta.endDate).format("DD MMMM YYYY")}`:"Mengambil Data ..."})]}),e.jsxs(h,{spacing:"4",children:[e.jsxs(u,{children:[e.jsxs(l,{mb:"1",fontSize:"sm",children:["Navigasi ke ",s.toLowerCase()," lain"]}),e.jsx(Le,{state:[i,o],type:t,format:a})]}),e.jsxs(u,{children:[e.jsx(l,{mb:"1",fontSize:"sm",children:"Pilih Jenis Laporan"}),e.jsxs(G,{w:"fit-content",bg:"white",fontWeight:"600",value:t,onChange:p,children:[e.jsx("option",{value:"month",children:"Laporan Bulanan"}),e.jsx("option",{value:"week",children:"Laporan Mingguan"})]})]})]})]}),!!r&&e.jsxs(b,{align:"stretch",spacing:"4",mt:"4",children:[e.jsx(z,{title:"Kualitas Udara (ISPU)",colorScheme:"telegram",icon:Ie}),e.jsx(Oe,{indoor:r.averageData.indoor,outdoor:r.averageData.outdoor}),e.jsx(U,{title:"Tren Kualitas Udara",tren:r.tren,events:r.eventLogs.eventLogs,paramList:Ee}),e.jsx(z,{title:"Emisi Gas Rumah Kaca (CO2 dan CH4)",colorScheme:"teal",icon:Ae}),e.jsx(Ue,{indoor:r.averageData.indoor,outdoor:r.averageData.outdoor}),e.jsx(U,{title:"Tren Emisi Gas Rumah Kaca",tren:r.tren,events:r.eventLogs.eventLogs,paramList:Ke}),e.jsx(z,{title:"Aduan Di Sekitar",colorScheme:"orange",icon:Pe}),e.jsx(Fe,{data:r.reports,company:r.meta.company}),e.jsx(z,{title:"Catatan Kegiatan Usaha",colorScheme:"purple",icon:xe}),e.jsx(Te,{periode:t,data:r.eventLogs,dateRange:[r.meta.startDate,r.meta.endDate]})]})]})}function Oe({indoor:t,outdoor:n}){const a=[{key:"indoor",label:"Indoor",data:t==null?void 0:t.ispu[0]},{key:"outdoor",label:"Outdoor",data:n==null?void 0:n.ispu[0]}],x=[{label:"Rerata Partikulat (PM) 2.5",data:[{label:"Indoor",data:t==null?void 0:t.pm25},{label:"Outdoor",data:n==null?void 0:n.pm25}]},{label:"Rerata Partikulat (PM) 10",data:[{label:"Indoor",data:t==null?void 0:t.pm100},{label:"Outdoor",data:n==null?void 0:n.pm100}]}];return e.jsxs(e.Fragment,{children:[e.jsxs(h,{align:"stretch",gap:"4",children:[e.jsxs(v,{size:"sm",shadow:"xs",flexGrow:"1",children:[e.jsx(C,{fontWeight:"600",pb:"1",children:"Indeks Standar Pencemar Udara (ISPU) Rata-rata"}),e.jsx(S,{pt:"0",as:h,divider:e.jsx(A,{}),children:a.map(({label:s,data:i},o)=>e.jsxs(u,{flex:"1 1 0",children:[e.jsx(w,{variant:"outline",colorScheme:o?"green":"blue",mb:"1",children:s}),i?e.jsxs(h,{spacing:"3",children:[e.jsx(g,{rounded:"md",p:"2",bg:pe(i==null?void 0:i.category).colorScheme+".300",children:e.jsx(l,{fontSize:"xl",fontWeight:"700",children:i.ispu<=300?i.ispu:"300+"})}),e.jsxs(u,{children:[e.jsx(l,{fontWeight:"600",fontSize:"2xl",mt:"-1",children:i.category}),e.jsxs(l,{fontSize:"sm",color:"gray.600",children:["Polutan Utama : ",i.pollutant]})]})]}):e.jsx(l,{children:"-"})]},o))})]}),x.map(({label:s,data:i})=>e.jsxs(v,{size:"sm",shadow:"xs",children:[e.jsx(C,{fontWeight:"600",pb:"1",children:s}),e.jsx(S,{pt:"0",as:h,divider:e.jsx(A,{}),children:i.map(({label:o,data:d},c)=>e.jsxs(u,{flex:"1 1 0",children:[e.jsx(w,{mb:"1",variant:"outline",colorScheme:c?"green":"blue",children:o}),d?e.jsxs(g,{alignContent:"baseline",rounded:"md",p:"2",bg:"gray.200",children:[e.jsx(l,{fontSize:"xl",fontWeight:"700",children:d.toFixed(2)}),e.jsx(l,{ml:"1",fontSize:"sm",children:Q})]}):e.jsx(l,{children:"-"})]},c))})]},s))]}),!!a.filter(s=>s.data).length&&e.jsxs(v,{size:"sm",shadow:"xs",flexGrow:"1",children:[e.jsx(C,{fontWeight:"600",children:"Rekomendasi"}),e.jsx(S,{pt:"0",children:e.jsxs(T,{variant:"soft-rounded",colorScheme:"blue",size:"sm",children:[e.jsx(W,{as:h,children:a.filter(s=>s.data).map(s=>e.jsx(F,{rounded:"lg",children:s.label},s.key))}),e.jsx(_,{mt:"2",borderColor:"gray.300"}),e.jsx(L,{pb:"2",children:a.filter(s=>s.data).map(({key:s,data:i})=>{var o,d,c;return e.jsxs(D,{py:"1",as:b,align:"start",children:[e.jsx(l,{textIndent:"40px",fontSize:"md",textAlign:"justify",children:(o=i==null?void 0:i.recomendation)==null?void 0:o.info}),e.jsxs(l,{fontSize:"md",textAlign:"justify",children:[e.jsxs("span",{style:{fontWeight:600},children:["Saran :"," "]}),s=="indoor"?(d=i==null?void 0:i.recomendation)==null?void 0:d.company:(c=i==null?void 0:i.recomendation)==null?void 0:c.public]})]},s)})})]})})]})]})}function Ue({indoor:t,outdoor:n}){const a=[{label:"Indoor",data:t},{label:"Outdoor",data:n}].map(s=>{var i,o;return{label:s.label,data:[{label:"Emisi Gas Metana",recomendation:(i=s.data)==null?void 0:i.ch4.recomendation},{label:"Emisi Gas Karbonioksida",recomendation:(o=s.data)==null?void 0:o.co2.recomendation}]}}).filter(s=>s.data.filter(i=>i.recomendation).length),x=[{key:"ch4",label:"Emisi Gas Metana Rata-Rata",data:[{label:"Indoor",data:t==null?void 0:t.ch4},{label:"Outdoor",data:n==null?void 0:n.ch4}],threshold:X,max:Z,unit:"PPM"},{key:"co2",label:"Emisi Gas Karbonioksida Rata-Rata",data:[{label:"Indoor",data:t==null?void 0:t.co2},{label:"Outdoor",data:n==null?void 0:n.co2}],threshold:q,max:ee,unit:"PPM"}];return e.jsxs(e.Fragment,{children:[e.jsx(h,{align:"stretch",gap:"4",children:x.map(({label:s,data:i,unit:o,threshold:d,max:c,key:r})=>e.jsxs(v,{size:"sm",shadow:"xs",flexGrow:"1",children:[e.jsx(C,{fontWeight:"600",pb:"1",children:s}),e.jsx(S,{pt:"0",as:h,divider:e.jsx(A,{}),children:i.map(({label:p,data:m},f)=>{const{colorScheme:M}=r=="co2"?me(m==null?void 0:m.category):ue(m==null?void 0:m.category);return e.jsxs(u,{flex:"1 1 0",children:[e.jsx(w,{variant:"outline",colorScheme:f?"green":"blue",mb:"1",children:p}),m?e.jsxs(h,{children:[e.jsxs(b,{spacing:"1",children:[e.jsxs(g,{alignContent:"baseline",rounded:"md",p:"2",bg:M+".200",children:[e.jsx(l,{fontSize:"2xl",fontWeight:"700",children:m.value.toFixed(2)}),e.jsx(l,{ml:"1",fontSize:"sm",children:o})]}),e.jsx(w,{w:"full",fontSize:"md",justifyContent:"center",colorScheme:M,children:m.category})]}),e.jsx(te,{style:{width:"125px"},arcsLength:d,colors:["#5BE12C","#F5CD19","#EA4228"],percent:m.value>=c?1:m.value/c,arcPadding:.02,hideText:!0})]}):e.jsx(l,{children:"-"})]},f)})})]},s))}),!!a.length&&e.jsxs(v,{size:"sm",shadow:"xs",flexGrow:"1",children:[e.jsx(C,{fontWeight:"600",children:"Rekomendasi"}),e.jsx(S,{pt:"0",children:e.jsxs(T,{variant:"soft-rounded",colorScheme:"gray",size:"sm",children:[e.jsx(W,{as:h,children:a.map((s,i)=>e.jsx(F,{rounded:"lg",children:s.label},i))}),e.jsx(L,{pb:"2",children:a.map(({label:s,data:i})=>e.jsx(D,{px:"0",py:"1",as:b,align:"start",children:i.filter(o=>o.recomendation).map(({label:o,recomendation:d})=>e.jsxs(e.Fragment,{children:[e.jsx(l,{fontWeight:"600",fontSize:"md",children:o}),e.jsx(l,{textIndent:"40px",fontSize:"md",textAlign:"justify",children:d==null?void 0:d.info}),e.jsxs(l,{fontSize:"md",textAlign:"justify",children:[e.jsxs("span",{style:{fontWeight:600},children:["Saran :"," "]}),s=="Indoor"?d==null?void 0:d.company:d==null?void 0:d.public]})]}))},s))})]})})]})]})}function z({title:t,icon:n,colorScheme:a}){return e.jsxs(h,{bg:`${a}.100`,p:"2",spacing:"0",rounded:"md",w:"fit-content",shadow:"sm",children:[e.jsx(g,{p:"1",rounded:"md",bg:`${a}.50`,color:`${a}.500`,children:e.jsx(y,{as:n,boxSize:"24px"})}),e.jsx(R,{size:"md",mx:"3",fontWeight:"600",children:t})]})}export{ut as default};
