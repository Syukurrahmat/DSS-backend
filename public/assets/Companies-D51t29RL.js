import{j as e,T as l}from"./createReactComponent-WPW12zrK.js";import{u as T,b as x,f as u,L as y,q as w,H as C,v as t,G as S,F as D,J as H,C as V,A as v,K as L}from"./app-B_fwFRhX.js";import{M as G}from"./index-CQt-qjNZ.js";import{a as M}from"./index.tags-CXW0_EVK.js";import{H as P}from"./HeadingWithIcon-FWn3pFPO.js";import{u as z,S as i}from"./useHashBasedTabsIndex-DZEeu4pz.js";import{t as A}from"./dateFormating-CkDZtFMB.js";import{I as F}from"./IconUsersGroup-DShnBAGS.js";import{I as W}from"./IconPlus-BqBe7j0q.js";import{I as k}from"./IconExternalLink-BPR0Htc5.js";import{F as c}from"./chunk-KRPLQIP4-BfVHV2g3.js";import{H as d}from"./icon-BvDSS9q3.js";import{B as o}from"./icon-white-BiuxQ1Ek.js";import{G as B}from"./chunk-JARCRF6W-DZGTgXcm.js";import{T as U,a as E,b as m}from"./chunk-4YMKQ5D4-BmSsW2IV.js";import{T as J,a as p}from"./chunk-IAXSQ4X2-BB3sunCX.js";import"./TagWithIcon-mGaDAwMD.js";const s=L(),N=[s.accessor("name",{header:"Nama",cell:a=>e.jsxs(d,{spacing:"3",children:[e.jsx(V,{type:a.row.original.type}),e.jsx(l,{children:a.getValue()})]}),meta:{sortable:!0}}),s.accessor("type",{header:"Jenis ",cell:a=>e.jsx(M,{value:a.getValue()}),meta:{sortable:!0}}),s.accessor("address",{header:"Alamat",cell:a=>e.jsx(l,{noOfLines:2,whiteSpace:"wrap",children:a.getValue()})}),s.accessor("manager",{header:"Manager",cell:a=>e.jsx(t,{to:"../users/"+a.getValue().userId,children:e.jsx(o,{size:"sm",py:"5",variant:"outline",w:"full",justifyContent:"left",leftIcon:e.jsx(v,{size:"sm",name:a.getValue().name}),children:a.getValue().name})})}),s.accessor("createdAt",{header:"Dibuat pada",cell:a=>A(a.getValue()),meta:{sortable:!0}}),s.accessor("companyId",{header:"Aksi",cell:a=>e.jsx(t,{to:"/companies/"+a.getValue(),children:e.jsx(o,{colorScheme:"blue",size:"sm",leftIcon:e.jsx(k,{size:"16"}),children:"Detail"})})})];function ie(){const[a,h]=z(["list","map"]),{roleIs:f}=T(),{data:r}=x("/companies/overview",u);return r?e.jsxs(c,{gap:"2",flexDir:"column",children:[e.jsxs(d,{w:"full",spacing:"4",align:"start",children:[e.jsx(P,{Icon:e.jsx(F,{}),text:"Daftar Perusahaan"}),e.jsx(w,{}),e.jsx(C,{_onSubmit:null,w:"200px",bg:"white",placeholder:"Cari .."}),f("admin")&&e.jsx(t,{to:"./create",children:e.jsx(o,{leftIcon:e.jsx(W,{size:"20px"}),colorScheme:"green",children:"Tambah Perusahaan"})})]}),e.jsxs(c,{gap:"3",direction:["column","row"],justify:"space-between",flexWrap:"wrap",children:[e.jsx(i,{flex:"1 0 180px",icon:S,count:r.all,label:"Total Perusahaan",variant:"solid"}),e.jsx(B,{gap:"3",flex:"20 0 0px",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",children:r.type.map((n,j)=>{const{color:g,name:b,icon:I}=D[n.value];return e.jsx(i,{flex:"1 0 180px",icon:I,count:n.count,label:b,color:g},j)})})]}),e.jsxs(U,{display:"flex",flexDir:"column",flexGrow:"1",index:a,onChange:h,isLazy:!0,children:[e.jsxs(J,{children:[e.jsx(p,{children:"Daftar Perusahaan"}),e.jsx(p,{children:"Lihat Dalam Maps"})]}),e.jsxs(E,{flexGrow:"1",children:[e.jsx(m,{px:"0",children:e.jsx(H,{flexGrow:"1",apiUrl:"/companies",columns:N})}),e.jsx(m,{px:"0",h:"100%",children:e.jsx(R,{})})]})]})]}):e.jsx(y,{})}function R(){const{data:a}=x("/companies?all=true",u);return a?e.jsx(G,{h:"100%",minH:"350px",scrollWheelZoom:!1,data:a.rows}):"loading slurr"}export{ie as default};
