import{j as a,U as n,Y as i}from"./font-Qhbu9OiB.js";import{u as I,b as d,f as h,y as T,L as C,F as S,K as c,q as v,N as V,J as D,O as G,C as L,z as P,v as m,A as z,V as H,P as M}from"./app-28G9vqgm.js";import{M as k}from"./index-BOlGHgSI.js";import{H as A}from"./HeadingWithIcon--ct6StFl.js";import{u as B,S as p}from"./useHashBasedTabsIndex-___XpOpu.js";import{t as W}from"./dateFormating-0h5p5L27.js";import{I as F}from"./IconPlus-WzsULqbQ.js";import{I as N}from"./IconExternalLink-Cn_MB6PB.js";import{B as o}from"./logo-white-Cvs5dC_u.js";import{G as U}from"./chunk-JARCRF6W-DEbpRF_0.js";import{T as E,a as J,b as x}from"./chunk-4YMKQ5D4-DbCYAULR.js";import{T as O,a as u}from"./chunk-IAXSQ4X2-GDzaWT3o.js";import"./logo-C54eNvEo.js";import"./TagWithIcon-2aZ-gzoI.js";const s=M(),R=[s.accessor("name",{header:"Nama",cell:e=>a.jsxs(n,{spacing:"3",children:[a.jsx(L,{type:e.row.original.type}),a.jsx(i,{children:e.getValue()})]}),meta:{sortable:!0}}),s.accessor("type",{header:"Jenis ",cell:e=>a.jsx(P,{value:e.getValue()}),meta:{sortable:!0}}),s.accessor("address",{header:"Alamat",cell:e=>a.jsx(i,{noOfLines:2,whiteSpace:"wrap",children:e.getValue()})}),s.accessor("manager",{header:"Manager",cell:e=>a.jsx(m,{to:"../users/"+e.getValue().userId,children:a.jsx(o,{size:"sm",py:"5",variant:"outline",w:"full",justifyContent:"left",leftIcon:a.jsx(z,{size:"sm",name:e.getValue().name}),children:e.getValue().name})})}),s.accessor("createdAt",{header:"Dibuat pada",cell:e=>W(e.getValue()),meta:{sortable:!0}}),s.accessor("companyId",{header:"Aksi",cell:e=>a.jsx(m,{to:"/companies/"+e.getValue(),children:a.jsx(o,{colorScheme:"blue",size:"sm",leftIcon:a.jsx(N,{size:"16"}),children:"Detail"})})})];function la(){const[e,r]=B(["list","map"]),{roleIs:f}=I(),{data:t}=d("/companies/overview",h),j=T();return t?a.jsxs(S,{gap:"2",flexDir:"column",children:[a.jsxs(n,{w:"full",spacing:"4",align:"start",wrap:"wrap",children:[a.jsx(A,{Icon:a.jsx(c,{}),text:"Daftar Perusahaan"}),a.jsx(v,{flexGrow:"999"}),a.jsxs(n,{wrap:"wrap",justify:"end",flexBasis:"450px",flexGrow:"1",children:[a.jsx(V,{w:"225px",flex:"1 0 ",bg:"white",placeholder:"Cari ..",_onSubmit:null}),f("admin")&&a.jsx(o,{leftIcon:a.jsx(F,{size:"20px"}),colorScheme:"green",children:"Tambah Perusahaan",onClick:()=>j("./create")})]})]}),a.jsxs(U,{mt:"2",gap:"2",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",children:[a.jsx(p,{icon:c,count:t.all,label:"Total Perusahaan",variant:"solid"}),t.type.map((l,g)=>{const{color:b,name:w,icon:y}=D[l.value];return a.jsx(p,{h:"100%",icon:y,count:l.count,label:w,color:b},g)})]}),a.jsxs(E,{display:"flex",flexDir:"column",flexGrow:"1",index:e,onChange:r,isLazy:!0,children:[a.jsxs(O,{flexWrap:"wrap",rowGap:"4px",children:[a.jsx(u,{children:"Daftar Perusahaan"}),a.jsx(u,{children:"Lihat Dalam Maps"})]}),a.jsxs(J,{flexGrow:"1",children:[a.jsx(x,{px:"0",children:a.jsx(G,{flexGrow:"1",apiUrl:"/companies",columns:R})}),a.jsx(x,{px:"0",pb:"0",flexGrow:"1",children:a.jsx(q,{})})]})]})]}):a.jsx(C,{})}function q(){const{data:e}=d("/companies?all=true",h),r="450px";return e?a.jsx(k,{h:r,scrollWheelZoom:!1,data:e.rows}):a.jsx(H,{h:r,rounded:"md"})}export{la as default};
