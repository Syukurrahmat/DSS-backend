import{K as d,r as n,j as a,V as k,T as e}from"./createReactComponent-WPW12zrK.js";import{u as S}from"./common.utils-BDtzQ6xa.js";import{V as T,d as B,X as D,g as R,Y as A,i as P,j as V,k as z,m as H,e as O}from"./app-BIM-v5sX.js";import{T as W,a as L,b as j}from"./chunk-4YMKQ5D4-CC--TXWK.js";import{B as o,c as w}from"./icon-white-BiuxQ1Ek.js";/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y=d("outline","address-book","IconAddressBook",[["path",{d:"M20 6v12a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2z",key:"svg-0"}],["path",{d:"M10 16h6",key:"svg-1"}],["path",{d:"M13 11m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M4 8h3",key:"svg-3"}],["path",{d:"M4 12h3",key:"svg-4"}],["path",{d:"M4 16h3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var q=d("outline","phone","IconPhone",[["path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var G=d("outline","text-caption","IconTextCaption",[["path",{d:"M4 15h16",key:"svg-0"}],["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M4 20h12",key:"svg-2"}]]);function J({resource:s,name:i,deleteApiUrl:h,redirectPath:v,...f}){const[y,c]=n.useState(!1),[p,l]=n.useState(""),[u,m]=n.useState(0),g=S(),b=T(),{isOpen:M,onOpen:C,onClose:r}=B(),x=n.useRef(),I=()=>{c(!0),H.delete(h).then(()=>{g.success(s+" berhasil dihapus"),b(v),O(t=>typeof t=="string"&&t.startsWith(h),void 0)}).catch(()=>{g.error(s+" gagal dihapus")}).finally(()=>{c(!1),l(""),r()})};return a.jsxs(a.Fragment,{children:[a.jsxs(o,{colorScheme:"red",...f,onClick:C,children:["Hapus ",s]}),a.jsx(D,{isOpen:M,motionPreset:"slideInBottom",onClose:r,onCloseComplete:()=>{m(0),l("")},leastDestructiveRef:x,children:a.jsx(R,{children:a.jsxs(A,{children:[a.jsxs(P,{fontSize:"lg",fontWeight:"bold",pb:"2",children:["Hapus ",s]}),a.jsx(V,{children:a.jsx(W,{size:"md",index:u,children:a.jsxs(L,{children:[a.jsxs(j,{as:k,p:"0",align:"start",children:[a.jsxs(e,{children:["Anda yakin hendak menghapus"," ",a.jsxs(e,{as:"span",fontWeight:"600",children:[s," ",i]})]}),a.jsxs(e,{children:["Operasi ini akan menghapus secara permanen"," ",s.toLowerCase()," tersebut beserta semua data yang terkait."]})]}),a.jsxs(j,{as:k,p:"0",children:[a.jsxs(e,{children:['Untuk mengonfirmasi, ketikkan "',a.jsx(e,{as:"span",fontWeight:"600",children:i}),'" pada kotak di bawah ini.']}),a.jsx(w,{value:p,onChange:t=>l(t.target.value)})]})]})})}),a.jsxs(z,{children:[a.jsx(o,{ref:x.current,isDisabled:y,onClick:r,children:"Batal"}),u==0?a.jsx(o,{onClick:()=>m(1),colorScheme:"red",ml:3,children:"Konfirmasi"}):a.jsx(o,{colorScheme:"red",isDisabled:p!==i,ml:3,children:"Hapus "+s,onClick:I})]})]})})})]})}export{J as D,q as I,Y as a,G as b};
