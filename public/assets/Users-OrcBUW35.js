import{j as e,M as w}from"./createReactComponent-CTa0ICdI.js";import{V as v,u as S,b as U,f as P,L as G,a0 as V,q as L,H,v as d,a1 as k,J as a,P as A,K as C}from"./app-B_Z13nOW.js";import{t as D}from"./dateFormating-b7MTPZXO.js";import{H as R}from"./HeadingWithIcon-D2dFdTXW.js";import{T as W}from"./index.tags-BMl43ewZ.js";import{S as m}from"./StatWithIcon-CqUgXY0l.js";import{I as z}from"./IconPlus-Rmn2fZV2.js";import{I as B}from"./IconUsersGroup-CMwRIobE.js";import{I as y}from"./IconExternalLink-C9IKUlwJ.js";import{F as u}from"./chunk-KRPLQIP4-noB-ZVK0.js";import{B as h}from"./icon-white-DmkG9gB2.js";import{G as F}from"./chunk-JARCRF6W-CMtdO6Jo.js";import{T as M,a as E,b as s}from"./chunk-4YMKQ5D4-DYkDvR0m.js";import{T as K,a as l}from"./chunk-IAXSQ4X2-DpX_T3X7.js";import{L as x}from"./chunk-K7XRJ7NL-DQvnGBvV.js";import"./icon-BHz-Vl6Z.js";const o=C(),i=[o.accessor("name",{header:"Nama",cell:r=>e.jsx(A,{name:r.getValue(),profilePicture:r.row.original.profilePicture,size:"sm"}),meta:{sortable:!0}}),o.accessor("email",{header:"Surel",cell:r=>e.jsx(x,{href:"mailto:"+r.getValue(),children:r.getValue()})}),o.accessor("phone",{header:"Telepon",cell:r=>e.jsx(x,{href:"tel:+62"+r.getValue(),children:r.getValue()})}),o.accessor("role",{header:"Peran",cell:r=>e.jsx(W,{value:r.getValue()}),meta:{sortable:!0}}),o.accessor("createdAt",{header:"Dibuat pada",cell:r=>D(r.getValue()),meta:{sortable:!0}}),o.accessor("userId",{header:"Aksi",cell:r=>e.jsx(d,{to:"/users/"+r.getValue(),children:e.jsx(h,{colorScheme:"blue",size:"sm",leftIcon:e.jsx(y,{size:"16"}),children:"Detail"})})})],n=i.filter(r=>r.accessorKey!=="role");function ne(){const r=["all","regular","manager","admin","gov","unverified"],[p,j]=v(r),{roleIs:f}=S(),{data:t}=U("/users/overview",P);return t?e.jsxs(u,{gap:"2",flexDir:"column",children:[e.jsxs(w,{w:"full",spacing:"4",align:"start",children:[e.jsx(R,{Icon:e.jsx(V,{}),text:"Daftar Pengguna"}),e.jsx(L,{}),e.jsx(H,{w:"200px",bg:"white",placeholder:"Cari ..",_onSubmit:null}),f("admin")&&e.jsx(d,{to:"./create",children:e.jsx(h,{leftIcon:e.jsx(z,{size:"20px"}),colorScheme:"green",children:"Tambah Pengguna"})})]}),e.jsxs(u,{gap:"3",direction:["column","row"],justify:"space-between",flexWrap:"wrap",children:[e.jsx(m,{flex:"1 0 180px",icon:B,count:t.all,label:"Total Anggota",variant:"solid"}),e.jsx(F,{gap:"3",flex:"20 0 0px",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",children:t.role.map((c,g)=>{const{color:b,name:I,icon:T}=k[c.value];return e.jsx(m,{flex:"1 0 180px",icon:T,color:b,count:c.count,label:I},g)})})]}),e.jsxs(M,{isLazy:!0,index:p,onChange:j,children:[e.jsxs(K,{children:[e.jsx(l,{children:"Semua"}),e.jsx(l,{children:"Regular"}),e.jsx(l,{children:"Manager"}),e.jsx(l,{children:"Admin"}),e.jsx(l,{children:"Pemerintah"}),e.jsx(l,{children:"Belum diverifikasi"})]}),e.jsxs(E,{children:[e.jsx(s,{children:e.jsx(a,{flexGrow:"1",apiUrl:"/users",columns:i})}),e.jsx(s,{children:e.jsx(a,{flexGrow:"1",apiUrl:"/users?role=regular",columns:n})}),e.jsx(s,{children:e.jsx(a,{flexGrow:"1",apiUrl:"/users?role=manager",columns:n})}),e.jsx(s,{children:e.jsx(a,{flexGrow:"1",apiUrl:"/users?role=admin",columns:n})}),e.jsx(s,{children:e.jsx(a,{flexGrow:"1",apiUrl:"/users?role=gov",columns:n})}),e.jsx(s,{children:e.jsx(a,{flexGrow:"1",apiUrl:"/users?unverified=true",columns:i.slice(0,-1)})})]})]})]}):e.jsx(G,{})}export{ne as default};
