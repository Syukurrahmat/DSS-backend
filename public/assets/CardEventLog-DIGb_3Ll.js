import{N as j,j as a,a0 as v,Y as i,S as B,T as P,U as n,I as l,W as w,X as F,P as R,r as V,V as H,ab as K,ae as U}from"./font-Qhbu9OiB.js";import{D as W,d as $,M as q,g as N,h as O,i as G,u as X,H as Y,b as _,f as J,j as Q,ap as Z,aq as aa,V as o,q as D,k as sa,a5 as ea,ar as na,as as ta,at as ia,au as C,m as b,e as ra,a4 as oa}from"./app-OFdP0MLv.js";import{t as m}from"./dateFormating-k4McqWkx.js";import{u as la,h as da}from"./common.utils-KfV-hsLd.js";import{I as ca}from"./IconMapPin-D5WQIwnP.js";import{I as ha}from"./logo-C54eNvEo.js";import{I as xa}from"./IconTrash-DhW0IJVI.js";import{I as ua}from"./IconEdit-NNTSMBKd.js";import{M as ma}from"./chunk-4FCEGNGT-CjW0cQ47.js";import{B as f,I as ja}from"./logo-white-Cvs5dC_u.js";import{I as pa}from"./IconCalendar-Cb4TI5xO.js";/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ga=j("outline","calendar-event","IconCalendarEvent",[["path",{d:"M4 5m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 3l0 4",key:"svg-1"}],["path",{d:"M8 3l0 4",key:"svg-2"}],["path",{d:"M4 11l16 0",key:"svg-3"}],["path",{d:"M8 15h2v2h-2z",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fa=j("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var A=j("outline","hourglass","IconHourglass",[["path",{d:"M6.5 7h11",key:"svg-0"}],["path",{d:"M6.5 17h11",key:"svg-1"}],["path",{d:"M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var va=j("outline","info-hexagon","IconInfoHexagon",[["path",{d:"M19.875 6.27c.7 .398 1.13 1.143 1.125 1.948v7.284c0 .809 -.443 1.555 -1.158 1.948l-6.75 4.27a2.269 2.269 0 0 1 -2.184 0l-6.75 -4.27a2.225 2.225 0 0 1 -1.158 -1.948v-7.285c0 -.809 .443 -1.554 1.158 -1.947l6.75 -3.98a2.33 2.33 0 0 1 2.25 0l6.75 3.98h-.033z",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);function Ta({withCard:s=!0,selectCompanyOnly:t=!0}){return a.jsxs(v,{as:s?ya:void 0,children:[a.jsxs(i,{children:["Pilih perusahaan ",t?"":"atau Pengguna publik"," ","yang ingin Anda Lihat"]}),a.jsx(W,{mt:"4",selectCompanyOnly:t,children:t?"Pilih Perusahaan":"Pilih Dasbor"})]})}function ya(s){return a.jsx(v,{children:a.jsxs(B,{children:[a.jsx(P,{pb:"0",children:a.jsxs(n,{children:[a.jsx(l,{as:va,color:"blue.600",boxSize:"28px"}),a.jsx(w,{size:"md",children:"Informasi"})]})}),a.jsx(F,{children:s.children})]})})}function Ia({eventId:s,readOnly:t=!1,...r}){const{isOpen:c,onOpen:h,onClose:x}=$();return a.jsxs(a.Fragment,{children:[a.jsx(v,{position:"relative",onClick:h,...r}),a.jsx(R,{children:a.jsxs(q,{size:"xl",isOpen:c,onClose:x,children:[a.jsx(N,{}),a.jsxs(O,{children:[a.jsx(ma,{size:"lg"}),a.jsx(G,{children:"Detail kegiatan"}),a.jsx(ka,{eventId:s,readOnly:t,onClose:x})]})]})})]})}function ka({eventId:s,onClose:t,readOnly:r}){var M,S;const[c,h]=V.useState(!1),{user:x}=X(),u=la(),E=Y(),y=(S=(M=x.view)==null?void 0:M.company)==null?void 0:S.companyId,p=`/companies/${y}/events/${s}`,{data:e,mutate:L}=_(p,J),I=()=>ra(d=>typeof d=="string"&&d.startsWith(`/companies/${y}/events`)),T=async()=>{t(),await da(300),E({title:"Hapus Kegiatan ini",message:"Anda yakin hendak menghapus kegiatan ini dari perusahaan Anda",confirmButtonColor:"red",onConfirm:()=>b.delete(p).then(()=>{u.success("Kegiatan berhasil dihapus"),I()}).catch(()=>{u.error("Kegiatan Gagal dihapus")})})},k=async d=>{h(!0);const g=p+(d=="endnow"?"/completed":"/start-now");b.patch(g).then(()=>{u.success("Kegiatan berhasil diupdate"),I(),L(z=>z?{...z,status:"isCompleted"}:void 0)}).catch(()=>{u.error("Kegiatan gagal diupdate")}).finally(()=>{h(!1)})};return a.jsxs(a.Fragment,{children:[a.jsx(Q,{pt:"1",pb:"6",children:a.jsxs(H,{w:"full",align:"stretch",children:[e?a.jsxs(a.Fragment,{children:[a.jsxs(n,{children:[a.jsx(Z,{size:"md",fontSize:"md",py:"1",value:e.status}),a.jsx(aa,{size:"md",fontSize:"md",py:"1",value:e.type})]}),a.jsx(w,{size:"lg",children:e.name}),a.jsx(i,{children:e.description})]}):a.jsxs(a.Fragment,{children:[a.jsxs(n,{children:[a.jsx(o,{rounded:"md",h:"6",w:"80px"}),a.jsx(o,{rounded:"md",h:"6",w:"80px"})]}),a.jsx(o,{rounded:"md",h:"9",w:"80%"}),a.jsx(o,{rounded:"md",h:"6",w:"70%"}),a.jsx(o,{rounded:"md",h:"6",w:"70%"})]}),a.jsx(D,{}),e?a.jsxs(a.Fragment,{children:[a.jsxs(n,{children:[a.jsx(l,{boxSize:"6",as:ga}),a.jsxs(i,{children:[m(e.startDate),e.startDate!==e.endDate&&" - "+(m(e.endDate)||"Selesai")]})]}),a.jsxs(n,{children:[a.jsx(l,{boxSize:"6",as:ca}),a.jsx(i,{fontStyle:e.location?"inherit":"italic",children:e.location||"Tempat tidak ditentukan"})]}),e.duration>0&&a.jsxs(n,{children:[a.jsx(l,{boxSize:"6",as:A}),a.jsxs(i,{children:["Durasi ",e.duration," Hari"]})]})]}):Array(2).fill(null).map((d,g)=>a.jsx(o,{rounded:"md",h:"6",w:"60%"},g))]})}),!r&&a.jsxs(sa,{as:n,justify:"start",w:"full",children:[!!e&&a.jsxs(a.Fragment,{children:[e.status=="inProgress"&&a.jsx(f,{leftIcon:a.jsx(ha,{size:"20"}),colorScheme:"green",children:"Selesaikan Sekarang",isLoading:c,onClick:()=>k("endnow")}),e.status=="upcoming"&&a.jsx(f,{leftIcon:a.jsx(ea,{size:"20"}),colorScheme:"orange",children:"Mulai Sekarang",isLoading:c,onClick:()=>k("startnow")})]}),a.jsx(D,{}),a.jsxs(na,{children:[a.jsx(ta,{as:ja,"aria-label":"More",icon:a.jsx(fa,{size:"20"})}),a.jsxs(ia,{children:[a.jsx(C,{icon:a.jsx(xa,{size:"18"}),onClick:T,children:"Hapus"}),a.jsx(C,{icon:a.jsx(ua,{size:"18"}),children:"Sunting"})]})]})]})]})}function Ba({event:s}){var r;const t=((r=oa[s.type])==null?void 0:r.color)||"gray";return a.jsx(K,{variant:"left-accent",colorScheme:t,rounded:"sm",children:a.jsxs(n,{justify:"space-between",w:"full",children:[a.jsxs(H,{spacing:"1",align:"start",children:[a.jsx(U,{fontWeight:"500",children:s.name}),a.jsxs(n,{fontSize:"sm",children:[a.jsx(l,{as:pa,boxSize:"16px"}),a.jsxs(i,{children:[m(s.startDate),s.startDate!==s.endDate&&" - "+(m(s.endDate)||"Selesai")]})]}),s.duration>0&&a.jsxs(n,{fontSize:"sm",children:[a.jsx(l,{as:A,boxSize:"16px"}),a.jsxs(i,{children:["Durasi : ",s.duration," Hari"]})]})]}),a.jsx(Ia,{eventId:s.eventLogId,children:a.jsx(f,{size:"sm",colorScheme:"blue",children:"Lihat Detail"})})]})})}export{Ba as C,Ia as D,ga as I,Ta as S};
