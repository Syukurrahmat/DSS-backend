import{j as e,U as u}from"./font-5Mxaz-3e.js";import{H as T}from"./HeadingWithIcon-BcaUOZuE.js";import{u as v,b as U,f as G,z as P,L as S,F as k,t as L,q as V,O as C,a4 as z,P as s,X as D,v as H,w as W,Q as y}from"./app-DYChiyhM.js";import{t as A}from"./dateFormating-uitVsAGu.js";import{u as B,S as m}from"./useHashBasedTabsIndex-CRmJkRkw.js";import{I as R}from"./IconPlus-CSH41dZv.js";import{I as F}from"./IconUsersGroup-DRocYACT.js";import{I as N}from"./IconExternalLink-DW-fAtDQ.js";import{B as p}from"./logo-white-CsuGh6aO.js";import{G as E}from"./chunk-JARCRF6W-CSqiEFzw.js";import{T as M,a as O,b as r}from"./chunk-4YMKQ5D4-DA2V1YAZ.js";import{T as q,a as l}from"./chunk-IAXSQ4X2-D5Bt3YnL.js";import{L as x}from"./chunk-K7XRJ7NL-DKYEMZRA.js";import"./logo-Byq_-Epn.js";const o=y(),i=[o.accessor("name",{header:"Nama",cell:a=>e.jsx(D,{name:a.getValue(),profilePicture:a.row.original.profilePicture,size:"sm"}),meta:{sortable:!0}}),o.accessor("email",{header:"Surel",cell:a=>e.jsx(x,{href:"mailto:"+a.getValue(),children:a.getValue()})}),o.accessor("phone",{header:"Telepon",cell:a=>e.jsx(x,{href:"tel:+62"+a.getValue(),children:a.getValue()})}),o.accessor("role",{header:"Peran",cell:a=>e.jsx(H,{value:a.getValue()}),meta:{sortable:!0}}),o.accessor("createdAt",{header:"Dibuat pada",cell:a=>A(a.getValue()),meta:{sortable:!0}}),o.accessor("userId",{header:"Aksi",cell:a=>e.jsx(W,{to:"/users/"+a.getValue(),children:e.jsx(p,{colorScheme:"blue",size:"sm",leftIcon:e.jsx(N,{size:"16"}),children:"Detail"})})})],t=i.filter(a=>a.accessorKey!=="role");function te(){const a=["all","public","industry","admin","gov","unverified"],[d,h]=B(a),{roleIs:j}=v(),{data:n}=U("/users/overview",G),f=P();return n?e.jsxs(k,{gap:"2",flexDir:"column",children:[e.jsxs(u,{w:"full",spacing:"4",align:"start",wrap:"wrap",children:[e.jsx(T,{Icon:e.jsx(L,{}),text:"Daftar Pengguna"}),e.jsx(V,{flexGrow:"999"}),e.jsxs(u,{wrap:"wrap",justify:"end",flexBasis:"450px",flexGrow:"1",children:[e.jsx(C,{w:"225px",flex:"1 0 ",bg:"white",placeholder:"Cari ..",_onSubmit:null}),j("admin")&&e.jsx(p,{leftIcon:e.jsx(R,{size:"20px"}),colorScheme:"green",children:"Tambah Pengguna",onClick:()=>f("./create")})]})]}),e.jsxs(E,{mt:"2",gap:"2",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",children:[e.jsx(m,{icon:F,count:n.all,label:"Total Pengguna",variant:"solid"}),n.role.map((c,g)=>{const{color:b,name:w,icon:I}=z[c.value];return e.jsx(m,{icon:I,color:b,h:"100%",count:c.count,label:w},g)})]}),e.jsxs(M,{isLazy:!0,mt:"2",index:d,onChange:h,children:[e.jsxs(q,{flexWrap:"wrap",rowGap:"4px",children:[e.jsx(l,{children:"Semua"}),e.jsx(l,{children:"Masyarakat Umum"}),e.jsx(l,{children:"Pemilik Usaha"}),e.jsx(l,{children:"Admin"}),e.jsx(l,{children:"Pemerintah"}),e.jsx(l,{children:"Belum diverifikasi"})]}),e.jsxs(O,{children:[e.jsx(r,{px:"0",children:e.jsx(s,{flexGrow:"1",apiUrl:"/users",columns:i})}),e.jsx(r,{px:"0",children:e.jsx(s,{flexGrow:"1",apiUrl:"/users?role=regular",columns:t})}),e.jsx(r,{px:"0",children:e.jsx(s,{flexGrow:"1",apiUrl:"/users?role=manager",columns:t})}),e.jsx(r,{px:"0",children:e.jsx(s,{flexGrow:"1",apiUrl:"/users?role=admin",columns:t})}),e.jsx(r,{px:"0",children:e.jsx(s,{flexGrow:"1",apiUrl:"/users?role=gov",columns:t})}),e.jsx(r,{px:"0",children:e.jsx(s,{flexGrow:"1",apiUrl:"/users?unverified=true",columns:i.slice(0,-1)})})]})]})]}):e.jsx(S,{})}export{te as default};
